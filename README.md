# Theme Engine

## Development guide

_This plugin is built with [Create Figma Plugin](https://yuanqing.github.io/create-figma-plugin/)._

### Instalation

Clone the repository to local, then

```
cd theme-engine
npm i
```

### Pre-requisites

-   [Node.js](https://nodejs.org) – v18
-   [Figma desktop app](https://figma.com/downloads/)

### Build the plugin

To build the plugin (main) and the React UI with React Compiler:

```
npm run build
```

This generates a [`manifest.json`](https://figma.com/plugin-docs/manifest/) and a `build/` directory that contains:

- `build/main.js` (plugin main, built with `@create-figma-plugin/build`)
- `build/ui/index.html` (UI built by Vite + React 19 + React Compiler)

To watch for code changes and rebuild the plugin main automatically:

```
npm run watch
```

For iterating on the UI in a browser (outside Figma):

```
npm run dev
```

Note: Figma requires a built HTML for the plugin UI; `npm run build` updates `manifest.json` to point `ui` to `build/ui/index.html`.

To use Tailwind for styling:

```
npm run tailwind
```

### Add the plugin to Figma

1. In the Figma desktop app, open a Figma document.
2. Search for and run `Import plugin from manifest…` via the Quick Actions search bar.

    <img width="1084" alt="import-plugin-to-figma" src="https://github.com/pbroom/react-figma-plugin/assets/116581966/e031eb11-1fec-43f4-9815-73a4240c59ba">

3. Select the `manifest.json` file that was generated by the `build` script.

### Debugging

Use `console.log` statements to inspect values in your code.

To open the developer console, search for and run `Open Console` via the Quick Actions search bar (`Ctrl + /` or `Cmd + /`).

<img width="982" alt="open-figma-console" src="https://github.com/pbroom/theme-engine/assets/116581966/fa3b26de-787f-430b-a3d7-d4890b323354">

## See also

-   [Create Figma Plugin docs](https://yuanqing.github.io/create-figma-plugin/)
-   [`yuanqing/figma-plugins`](https://github.com/yuanqing/figma-plugins#readme)
-   Figma Kit React components: [`figma-kit`](https://github.com/tigranpetrossian/figma-kit?tab=readme-ov-file) and Storybook: [`storybook.figma-kit.dev`](https://storybook.figma-kit.dev)

Official docs and code samples from Figma:

-   [Plugin API docs](https://figma.com/plugin-docs/)
-   [`figma/plugin-samples`](https://github.com/figma/plugin-samples#readme)
